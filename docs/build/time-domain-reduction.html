<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Time Domain Reduction · GenX</title><link rel="canonical" href="https://genxproject.github.io/GenX/time-domain-reduction.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GenX</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Welcome Page</a></li><li><a class="tocitem" href="load_inputs.html">Load Inputs</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="discharge.html">Discharge</a></li><li><a class="tocitem" href="non-served-energy.html">Non Served Energy</a></li><li><a class="tocitem" href="reserves.html">Reserves</a></li><li><a class="tocitem" href="ucommit.html">Unit Commitment</a></li></ul></li><li><span class="tocitem">Resources</span><ul><li><a class="tocitem" href="curtailable-variable-renewable.html">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="flexible-demand.html">Flexible Demand</a></li><li><a class="tocitem" href="hydro-res.html">Hydro</a></li><li><a class="tocitem" href="must-run.html">Must Run</a></li><li><a class="tocitem" href="thermal-commit.html">Thermal Commit</a></li><li><a class="tocitem" href="thermal-no-commit.html">Thermal No Commit</a></li></ul></li><li><span class="tocitem">Methods</span><ul><li class="is-active"><a class="tocitem" href="time-domain-reduction.html">Time Domain Reduction</a></li></ul></li><li><a class="tocitem" href="additional-features.html">Additional Features</a></li><li><a class="tocitem" href="data-documentation.html">GenX Data</a></li><li><a class="tocitem" href="write-outputs.html">GenX Outputs</a></li><li><a class="tocitem" href="new_doc_page.html">New Documentation Page</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Methods</a></li><li class="is-active"><a href="time-domain-reduction.html">Time Domain Reduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="time-domain-reduction.html">Time Domain Reduction</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenXProject/GenX/blob/master/docs/src/time-domain-reduction.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Time-Domain-Reduction-1"><a class="docs-heading-anchor" href="#Time-Domain-Reduction-1">Time Domain Reduction</a><a class="docs-heading-anchor-permalink" href="#Time-Domain-Reduction-1" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GenX.cluster_inputs" href="#GenX.cluster_inputs"><code>GenX.cluster_inputs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cluster_inputs(inpath, v=false, norm_plot=false, silh_plot=false, res_plots=false, indiv_plots=false, pair_plots=false)</code></pre><p>Use kmeans or kemoids to cluster raw load profiles and resource capacity factor profiles into representative periods. Use Extreme Periods to capture noteworthy periods or periods with notably poor fits.</p><p>Inputs</p><p>In Load_data.csv, include the following:</p><ul><li>Timesteps<em>per</em>Rep_Period - Typically 168 timesteps (e.g., hours) per period, this designates the length   of each representative period.</li><li>UseExtremePeriods - Either 1 or 0, this designates whether or not to include  outliers (by performance or load/resource extreme) as their own representative periods.  This setting automatically includes the periods with maximum load, minimum solar cf and  minimum wind cf as extreme periods.</li><li>ClusterMethod - Either &#39;kmeans&#39; or &#39;kmedoids&#39;, this designates the method used to cluster  periods and determine each point&#39;s representative period.</li><li>ScalingMethod - Either &#39;N&#39; or &#39;S&#39;, this designates directs the module to normalize ([0,1])  or standardize (mean 0, variance 1) the input data.</li><li>MinPeriods - The minimum number of periods used to represent the input data. If using  UseExtremePeriods, this must be at least three. If IterativelyAddPeriods if off,  this will be the total number of periods.</li><li>MaxPeriods - The maximum number of periods - both clustered periods and extreme periods -  that may be used to represent the input data.</li><li>IterativelyAddPeriods - Either 1 or 0, this designates whether or not to add periods  until the error threshold between input data and represented data is met or the maximum  number of periods is reached.</li><li>Threshold - Iterative period addition will end if the period farthest (Euclidean Distance)  from its representative period is within this percentage of the total possible error (for normalization)  or ~95% of the total possible error (for standardization). E.g., for a threshold of 0.01,  every period must be within 1% of the spread of possible error before the clustering  iterations will terminate (or until the max number of periods is reached).</li><li>IterateMethod - Either &#39;cluster&#39; or &#39;extreme&#39;, this designates whether to add clusters to  the kmeans/kmedoids method or to set aside the worst-fitting periods as a new extreme periods.</li><li>nReps - The number of times to repeat each kmeans/kmedoids clustering at the same setting.</li><li>LoadWeight - Default 1, this is an optional multiplier on load columns in order to prioritize  better fits for load profiles over resource capacity factor profiles.</li><li>WeightTotal - Default 8760, the sum to which the relative weights of representative periods will be scaled.</li><li>ClusterFuelPrices - Either 1 or 0, this indicates whether or not to use the fuel price  time series in Fuels<em>data.csv in the clustering process. If &#39;no&#39;, this function will still write  Fuels</em>data_clustered.csv with reshaped fuel prices based on the number and size of the  representative weeks, assuming a constant time series of fuel prices with length equal to the  number of timesteps in the raw input data.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L410-L455">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.RemoveConstCols" href="#GenX.RemoveConstCols"><code>GenX.RemoveConstCols</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">RemoveConstCols(all_profiles, all_col_names)</code></pre><p>Remove and store the columns that do not vary during the period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L256-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.check_condition-NTuple{5,Any}" href="#GenX.check_condition-NTuple{5,Any}"><code>GenX.check_condition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">check_condition(Threshold, R, OldColNames, ScalingMethod, TimestepsPerRepPeriod)</code></pre><p>Check whether the greatest Euclidean deviation in the input data and the clustered representation is within a given proportion of the &quot;maximum&quot; possible deviation.</p><p>(1 for Normalization covers 100%, 4 for Standardization covers ~95%)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L164-L172">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.cluster" href="#GenX.cluster"><code>GenX.cluster</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cluster(ClusterMethod, ClusteringInputDF, NClusters, nIters)</code></pre><p>Get representative periods using cluster centers from kmeans or kmedoids.</p><p>K-Means: https://juliastats.org/Clustering.jl/dev/kmeans.html</p><p>K-Medoids:  https://juliastats.org/Clustering.jl/stable/kmedoids.html</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L195-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_absolute_extreme-NTuple{4,Any}" href="#GenX.get_absolute_extreme-NTuple{4,Any}"><code>GenX.get_absolute_extreme</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_absolute_extreme(DF, statKey, col_names, ConstCols)</code></pre><p>Get the period index of the single timestep with the minimum or maximum load or capacity factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L367-L373">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_extreme_period" href="#GenX.get_extreme_period"><code>GenX.get_extreme_period</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_extreme_period(DF, GDF, profKey, typeKey, statKey,
   ConstCols, load_col_names, solar_col_names, wind_col_names)</code></pre><p>Identify extreme week by specification of profile type (Load, PV, Wind), measurement type (absolute (timestep with min/max value) vs. integral (period with min/max summed value)), and statistic (minimum or maximum). I.e., the user could want the hour with the most load across the whole system to be included among the extreme periods. They would select &quot;Load&quot;, &quot;System, &quot;Absolute, and &quot;Max&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L302-L315">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_integral_extreme-NTuple{4,Any}" href="#GenX.get_integral_extreme-NTuple{4,Any}"><code>GenX.get_integral_extreme</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_integral_extreme(GDF, statKey, col_names, ConstCols)</code></pre><p>Get the period index with the minimum or maximum load or capacity factor summed over the period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L348-L355">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_worst_period_idx-Tuple{Any}" href="#GenX.get_worst_period_idx-Tuple{Any}"><code>GenX.get_worst_period_idx</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_worst_period_idx(R)</code></pre><p>Get the index of the period that is farthest from its representative period by Euclidean distance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L184-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.parse_data-Tuple{Any}" href="#GenX.parse_data-Tuple{Any}"><code>GenX.parse_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">parse_data(myinputs)</code></pre><p>Get load, solar, wind, and other curves from the input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L110-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.rmse_score-Tuple{Any,Any}" href="#GenX.rmse_score-Tuple{Any,Any}"><code>GenX.rmse_score</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rmse_score(y_true, y_pred)</code></pre><p>Calculates Root Mean Square Error.</p><div>\[RMSE = \\sqrt{\\frac{1}{n}\\Sigma_{i=1}^{n}{\\Big(\\frac{d_i -f_i}{\\sigma_i}\\Big)^2}}\]</div><p>CITE: https://towardsdatascience.com/julia-for-data-science-how-to-build-linear-regression-from-scratch-with-julia-6d1521a00611</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L90-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.scale_weights" href="#GenX.scale_weights"><code>GenX.scale_weights</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">scale_weights(W, H)</code></pre><p>Linearly scale weights W such that they sum to the desired number of timesteps (hours) H.</p><div>\[w_j \leftarrow H \cdot \frac{w_j}{\sum_i w_i} \: \: \: \forall w_j \in W\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/6565eab857ea2b54b6a4e59e1dbd2a0d8555cd09/src/time_domain_reduction/time_domain_reduction.jl#L388-L398">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="thermal-no-commit.html">« Thermal No Commit</a><a class="docs-footer-nextpage" href="additional-features.html">Additional Features »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 30 May 2021 16:47">Sunday 30 May 2021</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
