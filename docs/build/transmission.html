<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Transmission · GenX</title><link rel="canonical" href="https://genxproject.github.io/GenX/transmission.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GenX</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Welcome Page</a></li><li><a class="tocitem" href="data_documentation.html">Model Inputs/Outputs Documentation</a></li><li><span class="tocitem">Model Concept and Overview</span><ul><li><a class="tocitem" href="model_introduction.html">Model Introduction</a></li><li><a class="tocitem" href="model_notation.html">Notation</a></li><li><a class="tocitem" href="objective_function.html">Objective Function</a></li><li><a class="tocitem" href="power_balance.html">Power Balance</a></li></ul></li><li><span class="tocitem">Model Function Reference</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox" checked/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Core</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1-1"><span class="docs-label">Discharge</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="discharge.html">Discharge</a></li><li><a class="tocitem" href="investment_discharge.html">Investment Discharge</a></li></ul></li><li><a class="tocitem" href="non_served_energy.html">Non Served Energy</a></li><li><a class="tocitem" href="reserves.html">Reserves</a></li><li class="is-active"><a class="tocitem" href="transmission.html">Transmission</a></li><li><a class="tocitem" href="ucommit.html">Unit Commitment</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="curtailable_variable_renewable.html">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="flexible_demand.html">Flexible Demand</a></li><li><a class="tocitem" href="hydro_res.html">Hydro</a></li><li><a class="tocitem" href="must_run.html">Must Run</a></li><li><input class="collapse-toggle" id="menuitem-4-2-5" type="checkbox"/><label class="tocitem" for="menuitem-4-2-5"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="storage.html">Storage</a></li><li><a class="tocitem" href="investment_charge.html">Investment Charge</a></li><li><a class="tocitem" href="investment_energy.html">Investment Energy</a></li><li><a class="tocitem" href="long_duration_storage.html">Long Duration Storage</a></li><li><a class="tocitem" href="storage_all.html">Storage All</a></li><li><a class="tocitem" href="storage_asymmetric.html">Storage Asymmetric</a></li><li><a class="tocitem" href="storage_symmetric.html">Storage Symmetric</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2-6" type="checkbox"/><label class="tocitem" for="menuitem-4-2-6"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="thermal.html">Thermal</a></li><li><a class="tocitem" href="thermal_commit.html">Thermal Commit</a></li><li><a class="tocitem" href="thermal_no_commit.html">Thermal No Commit</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Policies</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="cap_reserve_margin.html">Capacity Reserve Margin</a></li><li><a class="tocitem" href="co2_cap.html">CO2 Capacity</a></li><li><a class="tocitem" href="energy_share_requirement.html">Energy Share Requirement</a></li><li><a class="tocitem" href="minimum_capacity_requirement.html">Minimum Capacity Requirement</a></li></ul></li></ul></li><li><a class="tocitem" href="load_inputs.html">Function Reference for Loading Inputs</a></li><li><span class="tocitem">Methods</span><ul><li><a class="tocitem" href="time_domain_reduction.html">Time Domain Reduction</a></li></ul></li><li><a class="tocitem" href="additional_features.html">Additional Features</a></li><li><a class="tocitem" href="write_outputs.html">GenX Outputs</a></li><li><a class="tocitem" href="documentation.html">New Documentation Page</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model Function Reference</a></li><li><a class="is-disabled">Core</a></li><li class="is-active"><a href="transmission.html">Transmission</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="transmission.html">Transmission</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com//blob/master/docs/src/transmission.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Transmission-1"><a class="docs-heading-anchor" href="#Transmission-1">Transmission</a><a class="docs-heading-anchor-permalink" href="#Transmission-1" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GenX.transmission-Tuple{JuMP.Model,Dict,Int64,Int64}" href="#GenX.transmission-Tuple{JuMP.Model,Dict,Int64,Int64}"><code>GenX.transmission</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">transmission(EP::Model, inputs::Dict, UCommit::Int, NetworkExpansion::Int)</code></pre><p>This function establishes decisions, expressions, and constraints related to transmission power flows between model zones and associated transmission losses (if modeled).</p><p>The function adds transmission reinforcement or construction costs to the objective function. Transmission reinforcement costs are equal to the sum across all lines of the product between the transmission reinforcement/construction cost, <span>$pi^{TCAP}_{l}$</span>, times the additional transmission capacity variable, <span>$\bigtriangleup\varphi^{max}_{l}$</span>.</p><div>\[\begin{aligned}
&amp; \sum_{l \in \mathcal{L}}\left(\pi^{TCAP}_{l} \times \bigtriangleup\varphi^{max}_{l}\right)
\end{aligned}\]</div><p>Note that fixed O\&amp;M and replacement capital costs (depreciation) for existing transmission capacity is treated as a sunk cost and not included explicitly in the GenX objective function.</p><p>Power flow and transmission loss terms are also added to the power balance constraint for each zone:</p><div>\[\begin{aligned}
&amp;	- \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \Phi_{l,t})} - \frac{1}{2} \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \beta_{l,t}(\cdot))}
\end{aligned}\]</div><p>Power flows, <span>$\Phi_{l,t}$</span>, on each line <span>$l$</span> into or out of a zone (defined by the network map <span>$\varphi^{map}_{l,z}$</span>), are considered in the demand balance equation for each zone. By definition, power flows leaving their reference zone are positive, thus the minus sign is used for this term. Losses due to power flows increase demand, and one-half of losses across a line linking two zones are attributed to each connected zone. The losses function <span>$\beta_{l,t}(\cdot)$</span> will depend on the configuration used to model losses (see below).</p><p><strong>Accounting for Transmission and Network Expansion Between Zones</strong></p><p>Transmission flow constraints are modeled using a &#39;transport method&#39;,&#39;&#39; where power flow, <span>$\Phi_{l,t}$</span>, on each line (or more likely a `path&#39; aggregating flows across multiple parallel lines) is constrained to be less than or equal to the line&#39;s maximum power transfer capacity, <span>$\varphi^{max}_{l}$</span>, plus any transmission capacity added on that line (for lines eligible for expansion in the set <span>$\mathcal{E}$</span>). The additional transmission capacity, <span>$\bigtriangleup\varphi^{max}_{l} $, is constrained by a maximum allowed reinforcement, $\overline{\bigtriangleup\varphi^{max}_{l}}$</span>, for each line <span>$l \in \mathcal{E}$</span>.</p><div>\[\begin{aligned}
	% trasmission constraints
	&amp;-\varphi^{max}_{l} \leq  \Phi_{l,t} \leq \varphi^{max}_{l} , &amp;\quad \forall l \in (\mathcal{L} \setminus \mathcal{E} ),\forall t  \in \mathcal{T}\\
	% trasmission expansion
	&amp;-(\varphi^{max}_{l} + \bigtriangleup\varphi^{max}_{l} ) \leq  \Phi_{l,t} \leq (\varphi^{max}_{l} + \bigtriangleup\varphi^{max}_{l} ) , &amp;\quad \forall l \in \mathcal{E},\forall t  \in \mathcal{T}\\
	&amp; \bigtriangleup\varphi^{max}_{l}  \leq \overline{\bigtriangleup\varphi^{max}_{l}}, &amp;\quad \forall l \in \mathcal{E}
\end{aligned}\]</div><p><strong>Accounting for Transmission Losses</strong></p><p>Transmission losses due to power flows can be accounted for in three different ways. The first option is to neglect losses entirely, setting the value of the losses function to zero for all lines at all hours. The second option is to assume that losses are a fixed percentage, <span>$\varphi^{loss}_{l}$</span>, of the magnitude of power flow on each line, <span>$\mid \Phi_{l,t} \mid$</span> (e.g., losses are a linear function of power flows). Finally, the third option is to calculate losses, <span>$\ell_{l,t}$</span>, by approximating a quadratic-loss function of power flow across the line using a piecewise-linear function with total number of segments equal to the size of the set <span>$\mathcal{M}$</span>.</p><div>\[\begin{aligned}
%configurable losses formulation
	&amp; \beta_{l,t}(\cdot) = \begin{cases} 0 &amp; \text{if~} \text{losses.~0} \\ \\ \varphi^{loss}_{l}\times \mid \Phi_{l,t} \mid &amp; \text{if~} \text{losses.~1} \\ \\ \ell_{l,t} &amp;\text{if~} \text{losses.~2} \end{cases}, &amp;\quad \forall l \in \mathcal{L},\forall t  \in \mathcal{T}
\end{aligned}\]</div><p>For the second option, an absolute value approximation is utilized to calculate the magnitude of the power flow on each line (reflecting the fact that negative power flows for a line linking nodes <span>$i$</span> and <span>$j$</span> represents flows from node <span>$j$</span> to <span>$i$</span> and causes the same magnitude of losses as an equal power flow from <span>$i$</span> to <span>$j$</span>). This absolute value function is linearized such that the flow in the line must be equal to the subtraction of the auxiliary variable for flow in the positive direction, <span>$\Phi^{+}_{l,t}$</span>, and the auxiliary variable for flow in the negative direction, <span>$\Phi^{+}_{l,t}$</span>, of the line. Then, the magnitude of the flow is calculated as the sum of the two auxiliary variables. The sum of positive and negative directional flows are also constrained by the maximum line flow capacity.</p><div>\[\begin{aligned}
% trasmission losses simple
	&amp;\Phi_{l,t} =  \Phi^{+}_{l,t}  - \Phi^{-}_{l,t}, &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\mid \Phi_{l,t} \mid =  \Phi^{+}_{l,t}  + \Phi^{-}_{l,t}, &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\Phi^{+}_{l,t}  + \Phi^{-}_{l,t} \leq \varphi^{max}_{l}, &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}
\end{aligned}\]</div><p>If discrete unit commitment decisions are modeled, ``phantom losses&#39;&#39; can be observed wherein the auxiliary variables for flows in both directions (<span>$\Phi^{+}_{l,t}$</span> and <span>$\Phi^{-}_{l,t}$</span>) are both increased to produce increased losses so as to avoid cycling a thermal generator and incurring start-up costs or opportunity costs related to minimum down times. This unrealistic behavior can be eliminated via inclusion of additional constraints and a set of auxiliary binary variables, <span>$ON^{+}_{l,t} \in {0,1} \forall l \in \mathcal{L}$</span>. Then the following additional constraints are created:</p><div>\[\begin{aligned}
	\Phi^{+}_{l,t} \leq TransON^{+}_{l,t},  &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	\Phi^{-}_{l,t} \leq (\varphi^{max}_{l} + \bigtriangleup\varphi^{max}_{l}) -TransON^{+}_{l,t}, &amp;\quad  \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}
\end{aligned}\]</div><p>where <span>$TransON^{+}_{l,t}$</span> is a continuous variable, representing the product of the binary variable <span>$ON^{+}_{l,t}$</span> and the expression, <span>$(\varphi^{max}_{l} + \bigtriangleup\varphi^{max}_{l})$</span>. This product cannot be defined explicitly, since it will lead to a bilinear expression involving two variables. Instead, we enforce this definition via the Glover&#39;s Linearization as shown below (also referred McCormick Envelopes constraints for bilinear expressions, which is exact when one of the variables is binary).</p><div>\[\begin{aligned}
	TransON^{+}_{l,t} \leq  (\varphi^{max}_{l} + \overline{\bigtriangleup\varphi^{max}_{l}}) \times TransON^{+}_{l,t},  &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
	TransON^{+}_{l,t} \leq  (\varphi^{max}_{l} + \bigtriangleup\varphi^{max}_{l}),  &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
	TransON^{+}_{l,t} \leq (\varphi^{max}_{l} + \bigtriangleup\varphi^{max}_{l}) - (\varphi^{max}_{l} + \overline{\bigtriangleup\varphi^{max}_{l}}) \times(1- TransON^{+}_{l,t}),  &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \\
\end{aligned}\]</div><p>These constraints permit only the positive or negative auxiliary flow variables to be non-zero at a given time period, not both.</p><p>For the third option, losses are calculated as a piecewise-linear approximation of a quadratic function of power flows. In order to do this, we represent the absolute value of the line flow variable by the sum of positive stepwise flow variables <span>$(\mathcal{S}^{+}_{m,l,t}, \mathcal{S}^{-}_{m,l,t})$</span>, associated with each partition of line losses computed using the corresponding linear expressions. This can be understood as a segmentwise linear fitting (or first order approximation) of the quadratic losses function. The first constraint below computes the losses a the accumulated sum of losses for each linear stepwise segment of the approximated quadratic function, including both positive domain and negative domain segments. A second constraint ensures that the stepwise variables do not exceed the maximum size per segment. The slope and maximum size for each segment are calculated as per the method in \cite{Zhang2013}.</p><div>\[\begin{aligned}
	% losses constraints
	&amp; \ell_{l,t} = \frac{\varphi^{ohm}_{l}}{(\varphi^{volt}_{l})^2}\bigg( \sum_{m \in \mathcal{M}}( S^{+}_{m,l}\times \mathcal{S}^{+}_{m,l,t} + S^{-}_{m,l}\times \mathcal{S}^{-}_{m,l,t}) \bigg), &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T} \notag\\
	&amp; \text{\quad Where:}\notag\\
	&amp; \quad S^{+}_{m,l} = \frac{2+4 \times \sqrt{2}\times (m-1)}{1+\sqrt{2} \times (2 \times M-1)} (\varphi^{max}_{l} + \overline{\bigtriangleup\varphi^{max}_{l}}) &amp;\quad \forall m \in [1 \colon M], l \in \mathcal{L}  \notag\\
	&amp; \quad S^{-}_{m,l} = \frac{2+4 \times \sqrt{2}\times (m-1)}{1+\sqrt{2} \times (2 \times M-1)} (\varphi^{max}_{l} + \overline{\bigtriangleup\varphi^{max}_{l}}) &amp;\quad \forall m \in [1 \colon M], l \in \mathcal{L}\\
	&amp; \notag\\
	&amp; \mathcal{S}^{+}_{m,l,t}, \mathcal{S}^{-}_{m,l,t} &lt;= \overline{\mathcal{S}_{m,l}} &amp;\quad \forall m \in [1:M], l \in \mathcal{L}, t \in \mathcal{T} \notag\\
	&amp; \text{\quad Where:} \notag\\
	&amp; \quad \overline{\mathcal{S}_{l,z}} =  \begin{cases} \frac{(1+\sqrt{2})}{1+\sqrt{2} \times (2 \times M-1)}  (\varphi^{max}_{l} + \overline{\bigtriangleup\varphi^{max}_{l}}) &amp; \text{if~} \text{m=1} \\
	&amp; \frac{2 \times \sqrt{2} }{1+\sqrt{2} \times (2 \times M-1)} (\varphi^{max}_{l} + \overline{\bigtriangleup\varphi^{max}_{l}}) &amp; \text{if~} \text{m $&gt;$ 1} \end{cases} \\
\end{aligned}\]</div><p>Next, a constraint ensures that the sum of auxiliary segment variables (<span>$m \geq 1$</span>) minus the &quot;zero&quot; segment (which allows values to go into the negative domain) from both positive and negative domains must total the actual power flow across the line, and a constraint ensures that the sum of negative and positive flows do not exceed the maximum flow for the line.</p><div>\[\begin{aligned}
	&amp;\sum_{m \in [1:M]} (\mathcal{S}^{+}_{m,l,t}) - \mathcal{S}^{+}_{0,l,t} =  \Phi_{l,t}, &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\sum_{m \in [1:M]} (\mathcal{S}^{-}_{m,l,t}) - \mathcal{S}^{-}_{0,l,t}  =  - \Phi_{l,t}
\end{aligned}\]</div><p>As with losses option 2, this segment-wise approximation of a quadratic loss function also permits &#39;phantom losses&#39; to avoid cycling thermal units when discrete unit commitment decisions are modeled. In this case, the additional constraints below are also added to ensure that auxiliary segments variables do not exceed maximum value per segment and that they are filled in order; i.e., one segment cannot be non-zero unless prior segment is at its maximum value. Binary constraints deal with absolute value of power flow on each line. If the flow is positive, <span>$\mathcal{S}^{+}_{0,l,t}$</span> must be zero; if flow is negative, <span>$\mathcal{S}^{+}_{0,l,t}$</span> must be positive and takes on value of the full negative flow, forcing all <span>$\mathcal{S}^{+}_{m,l,t}$</span> other segments (<span>$m \geq 1$</span>) to be zero. Conversely, if the flow is negative, <span>$\mathcal{S}^{-}_{0,l,t}$</span> must be zero; if flow is positive, <span>$\mathcal{S}^{-}_{0,l,t}$</span> must be positive and takes on value of the full positive flow, forcing all <span>$\mathcal{S}^{-}_{m,l,t}$</span> other segments (<span>$m \geq 1$</span>) to be zero. Requiring segments to fill in sequential order and binary variables to ensure variables reflect the actual direction of power flows are both necessary to eliminate ``phantom losses&#39;&#39; from the solution. These constraints and binary decisions are ommited if the model is fully linear.</p><div>\[\begin{aligned}
	&amp;\mathcal{S}^{+}_{m,l,t} &lt;=    \overline{\mathcal{S}_{m,l}} \times ON^{+}_{m,l,t}, &amp;\quad \forall m \in [1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\mathcal{S}^{-}_{m,l,t} &lt;=    \overline{\mathcal{S}_{m,l}} \times ON^{-}_{m,l,t},  &amp;\quad \forall m \in[1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\mathcal{S}^{+}_{m,l,t} \geq ON^{+}_{m+1,l,t} \times \overline{\mathcal{S}_{m,l}}, &amp;\quad \forall m \in [1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\mathcal{S}^{-}_{m,l,t} \geq ON^{-}_{m+1,l,t} \times \overline{\mathcal{S}_{m,l}} , &amp;\quad \forall m \in [1:M], \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\mathcal{S}^{+}_{0,l,t} \leq \varphi^{max}_{l} \times (1- ON^{+}_{1,l,t}), &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}\\
	&amp;\mathcal{S}^{-}_{0,l,t} \leq \varphi^{max}_{l} \times (1- ON^{-}_{1,l,t}), &amp;\quad \forall l \in \mathcal{L}, \forall t  \in \mathcal{T}
\end{aligned}\]</div></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="reserves.html">« Reserves</a><a class="docs-footer-nextpage" href="ucommit.html">Unit Commitment »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 2 June 2021 19:44">Wednesday 2 June 2021</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
